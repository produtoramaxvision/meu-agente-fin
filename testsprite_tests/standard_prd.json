{
  "meta": {
    "project": "Meu Agente",
    "date": "2025-11-14",
    "prepared_by": "Generated by AI based on PRD and code summary"
  },
  "product_overview": "Meu Agente is a micro SaaS platform providing AI Agents operating directly via WhatsApp numbers to automate, support, and optimize business operations, reducing operational time, increasing conversion rates, and standardizing processes with strong security and privacy compliance.",
  "core_goals": [
    "Offer automated 24/7 customer interaction within WhatsApp Business rules.",
    "Seamlessly integrate with Google Workspace tools for calendar, drive, tasks, and emails (optional and paid).",
    "Enable simple financial management with exportable reports in paid plans.",
    "Provide advanced web search and data extraction (scrape) functionalities based on permitted sources and official APIs.",
    "Deliver specialized sub-agents (SDR, Marketing, Scheduling, Development, Video) mostly for Business and Premium plans.",
    "Ensure data governance, backup, and strong compliance with privacy laws like LGPD.",
    "Support multi-tier subscriptions with scalable features for different user needs.",
    "Maintain a prioritized 24/7 support system for premium users and robust infrastructure for reliability."
  ],
  "key_features": [
    "Multi-level Authentication and Session Management.",
    "Full Financial Agent with entries/exits tracking, categories, exports, and filters.",
    "Task and Agenda Management integrated with Google Calendar, Drive, and Tasks.",
    "Automated WhatsApp-based customer service with AI sub-agents for lead qualification (SDR), marketing insights, appointment scheduling, development support, and video production.",
    "Real-time Notifications and Alerts system.",
    "Comprehensive Dashboard with financial, task, and goals visualizations.",
    "Progressive Web App (PWA) features including offline support.",
    "Multiple User Plan options: Free, Basic, Business, Premium with tiered access to features like automated WhatsApp, dedicated numbers, backups, and sub-agents.",
    "Data export functionalities in CSV, JSON, and PDF formats.",
    "Advanced security and compliance functionalities respecting LGPD and data privacy policies.",
    "Support and Backup mechanisms including off-site backups for Premium plans.",
    "Add-ons for advanced integrations and customization in Premium tier."
  ],
  "user_flow_summary": [
    "User logs in or signs up to the platform, authenticating via the multi-step system.",
    "Depending on subscription, the user accesses dashboard to view financial data, tasks, agenda, and agent insights.",
    "User interacts with AI agents via WhatsApp messages to perform tasks such as registering financial entries, scheduling appointments, qualifying leads, requesting marketing reports, or generating video content.",
    "AI Agents handle data extraction and web searches strictly via permitted APIs and sources.",
    "Users receive notifications and alerts for important events and deadlines.",
    "Advanced plan users can manage multiple sub-agents specialized in different domains and leverage automated workflows.",
    "Users access reports and metrics via the dashboard, downloading CSV and PDF files as needed.",
    "Support requests can be made through dedicated channels with higher priority support for Business and Premium plans.",
    "System maintains data governance, privacy compliance, and backups based on subscription plan."
  ],
  "validation_criteria": [
    "Authentication workflow supports multi-stage login, signup, password recovery, and session management.",
    "Financial agent accurately records entries and exits, categorizes data, enables filtering, and exports datasets.",
    "Task and agenda management supports creation, editing, filtering, and Google Workspace synchronization.",
    "WhatsApp message parsing and AI agent responses comply with user input examples for various agents (Finance, SDR, Marketing, Video, etc.).",
    "Export functionalities for CSV, JSON, and PDF work correctly per plan restrictions.",
    "Automated workflows run correctly for qualifying leads, scheduling, reminders, and follow-ups.",
    "Notification system delivers real-time alerts and manages notification states efficiently.",
    "Plan restrictions enforce feature availability accurately (e.g., Free lacks automation, Premium enables advanced features and backups).",
    "Support systems respond according to plan-defined priorities (no support for Free/Basic, 24/7 prioritized for Business/Premium).",
    "Backup restoration tests conform with 3-2-1 backup policies and schedule.",
    "Compliance with LGPD and privacy rules including opt-in/out mechanisms and data retention policies are implemented."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 18.3.1",
      "Vite 5.4.19",
      "React Router DOM 6.30.1",
      "Supabase (PostgreSQL)",
      "TanStack Query 5.90.5",
      "Tailwind CSS 3.4.17",
      "Shadcn UI (Radix UI)",
      "Framer Motion 12.23.22",
      "Sonner (Toast)",
      "React Hook Form 7.61.1",
      "Zod 3.25.76",
      "Playwright (Testing)",
      "PWA (Progressive Web App)"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Sistema completo de autenticação com login multi-etapas, signup, recuperação de senha e gerenciamento de sessão via Supabase Auth",
        "files": [
          "src/contexts/AuthContext.tsx",
          "src/pages/auth/Login.tsx",
          "src/pages/auth/Signup.tsx",
          "src/pages/auth/ForgotPassword.tsx",
          "src/pages/auth/ResetPassword.tsx",
          "src/components/ProtectedRoute.tsx"
        ]
      },
      {
        "name": "Financial Management",
        "description": "Sistema completo de gestão financeira com registros, categorias, alertas, relatórios e gráficos",
        "files": [
          "src/pages/Contas.tsx",
          "src/pages/Reports.tsx",
          "src/pages/Relatorios.tsx",
          "src/components/FinanceRecordForm.tsx",
          "src/components/EditRecordDialog.tsx",
          "src/components/DeleteRecordDialog.tsx",
          "src/components/DespesasPorCategoriaChart.tsx",
          "src/components/StatusTimelineChart.tsx",
          "src/hooks/useFinancialData.ts",
          "src/hooks/useFinancialRecords.ts",
          "src/hooks/useAlertsData.ts",
          "src/hooks/useRealtimeFinancialAlerts.ts"
        ]
      },
      {
        "name": "Task Management",
        "description": "Sistema de gerenciamento de tarefas com prioridades, status, filtros e estatísticas",
        "files": [
          "src/pages/Tasks.tsx",
          "src/components/TaskForm.tsx",
          "src/components/TaskItem.tsx",
          "src/components/TaskFilters.tsx",
          "src/components/TaskStats.tsx",
          "src/components/DeleteTaskDialog.tsx",
          "src/hooks/useTasksData.ts"
        ]
      },
      {
        "name": "Calendar and Agenda",
        "description": "Sistema completo de agenda e calendário com múltiplas visualizações (dia, semana, mês, ano), eventos arrastáveis e integração com calendários",
        "files": [
          "src/pages/Agenda.tsx",
          "src/components/AgendaGridDay.tsx",
          "src/components/AgendaGridWeek.tsx",
          "src/components/AgendaGridMonth.tsx",
          "src/components/AgendaList.tsx",
          "src/components/AgendaTimeline.tsx",
          "src/components/AgendaYearHeatmap.tsx",
          "src/components/EventForm.tsx",
          "src/components/EventCard.tsx",
          "src/components/EventPopover.tsx",
          "src/components/EventQuickCreatePopover.tsx",
          "src/components/CalendarForm.tsx",
          "src/components/AgendaFilters.tsx",
          "src/hooks/useAgendaData.ts",
          "src/hooks/useOptimizedAgendaData.ts"
        ]
      },
      {
        "name": "Goals Management",
        "description": "Sistema de gerenciamento de metas com ícones, progresso, categorias e estatísticas",
        "files": [
          "src/pages/Goals.tsx",
          "src/components/GoalForm.tsx",
          "src/components/GoalListItem.tsx",
          "src/components/GoalIcons.tsx",
          "src/components/DashboardGoalCard.tsx",
          "src/hooks/useGoals.ts",
          "src/hooks/useGoalsData.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Dashboard principal com visão geral financeira, tarefas pendentes, metas, gráficos e insights",
        "files": [
          "src/pages/Dashboard.tsx",
          "src/components/DashboardUpcomingBills.tsx",
          "src/components/DashboardGoalCard.tsx",
          "src/components/UpcomingTasksCard.tsx",
          "src/components/UpcomingBillCard.tsx",
          "src/components/InsightsCard.tsx",
          "src/components/QuickActions.tsx"
        ]
      },
      {
        "name": "User Profile and Settings",
        "description": "Sistema de perfil de usuário com upload de avatar, configurações de privacidade, planos e backup",
        "files": [
          "src/pages/Profile.tsx",
          "src/components/AvatarUpload.tsx",
          "src/components/PrivacySection.tsx",
          "src/components/PlansSection.tsx",
          "src/components/PlanInfoCard.tsx",
          "src/components/BackupSection.tsx",
          "src/hooks/usePlanInfo.ts",
          "src/hooks/usePermissions.ts"
        ]
      },
      {
        "name": "Notifications System",
        "description": "Sistema de notificações em tempo real com dropdown, bell icon e gerenciamento de notificações",
        "files": [
          "src/pages/Notifications.tsx",
          "src/components/NotificationBell.tsx",
          "src/components/NotificationsDropdown.tsx",
          "src/components/NotificationItem.tsx",
          "src/components/SkeletonNotification.tsx",
          "src/contexts/NotificationContext.tsx",
          "src/hooks/useNotificationsData.ts"
        ]
      },
      {
        "name": "Support and Help",
        "description": "Sistema de suporte com tickets, FAQ, formulários e tracking de SLA",
        "files": [
          "src/components/SupportDialog.tsx",
          "src/components/SupportTabs.tsx",
          "src/components/SupportTicketForm.tsx",
          "src/components/SupportTicketList.tsx",
          "src/components/SupportFAQ.tsx",
          "src/components/HelpAndSupport.tsx",
          "src/hooks/useSupportTickets.ts"
        ]
      },
      {
        "name": "Layout and Navigation",
        "description": "Componentes de layout, sidebar, header, footer e navegação da aplicação",
        "files": [
          "src/components/layout/AppLayout.tsx",
          "src/components/layout/AppSidebar.tsx",
          "src/components/layout/AppHeader.tsx",
          "src/components/layout/AppFooter.tsx",
          "src/components/layout/AuthLayout.tsx",
          "src/components/layout/PageHeader.tsx",
          "src/components/Logo.tsx"
        ]
      },
      {
        "name": "UI Components Library",
        "description": "Biblioteca completa de componentes UI baseados em Shadcn UI e Radix UI",
        "files": [
          "src/components/ui/button.tsx",
          "src/components/ui/input.tsx",
          "src/components/ui/card.tsx",
          "src/components/ui/dialog.tsx",
          "src/components/ui/toast.tsx",
          "src/components/ui/sonner.tsx",
          "src/components/ui/select.tsx",
          "src/components/ui/calendar.tsx",
          "src/components/ui/popover.tsx",
          "src/components/ui/tabs.tsx",
          "src/components/ui/switch.tsx",
          "src/components/ui/avatar.tsx",
          "src/components/ui/badge.tsx",
          "src/components/ui/alert.tsx",
          "src/components/ui/table.tsx",
          "src/components/ui/chart.tsx"
        ]
      },
      {
        "name": "Data Hooks and Utilities",
        "description": "Hooks customizados para gerenciamento de dados, queries otimizadas e utilitários",
        "files": [
          "src/hooks/useOptimizedQueries.ts",
          "src/hooks/useOptimizedSupabaseQueries.ts",
          "src/hooks/useDebounce.ts",
          "src/hooks/useDuplicateDetection.ts",
          "src/hooks/useScrollToTop.ts",
          "src/hooks/use-mobile.tsx"
        ]
      },
      {
        "name": "Security and Protection",
        "description": "Componentes e utilitários de segurança, proteção de rotas e features protegidas",
        "files": [
          "src/components/ProtectedRoute.tsx",
          "src/components/ProtectedFeature.tsx",
          "src/lib/csrf.ts",
          "src/lib/sanitize.ts",
          "src/lib/safe-json.ts"
        ]
      },
      {
        "name": "PWA Features",
        "description": "Funcionalidades de Progressive Web App com service worker e registro",
        "files": [
          "src/components/PWARegister.tsx"
        ]
      },
      {
        "name": "Theme Management",
        "description": "Sistema de gerenciamento de tema com suporte a dark/light mode",
        "files": [
          "src/contexts/ThemeContext.tsx",
          "src/components/ds/ThemeSwitch.tsx"
        ]
      },
      {
        "name": "Search Functionality",
        "description": "Sistema de busca global na aplicação",
        "files": [
          "src/contexts/SearchContext.tsx"
        ]
      }
    ]
  }
}
