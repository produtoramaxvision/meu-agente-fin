{
  "meta": {
    "project": "Meu Agente - Micro SaaS AI Agents for WhatsApp",
    "date": "2025-10-14",
    "prepared_by": "Generated by Software Development Manager"
  },
  "product_overview": "Meu Agente is a micro SaaS platform providing AI agents integrated with WhatsApp to automate customer service, operations, and workflows, with a focus on reducing operational time, increasing conversions, and standardizing processes while ensuring security and privacy compliance.",
  "core_goals": [
    "Enable 24/7 AI-driven customer service and automation within WhatsApp Business constraints.",
    "Provide seamless integration with Google Workspace services for enhanced scheduling, file management, and task handling (in paid plans).",
    "Offer comprehensive financial management including income/expense recording, categorization, reporting, and data export.",
    "Support specialized AI sub-agents like SDR, Marketing, Scheduling, Developer, and Video agents to boost specific business functions.",
    "Ensure compliance with data privacy laws (LGPD), provide robust security features, and guarantee data backup strategies especially in Premium plans.",
    "Deliver flexible subscription plans with tiered features, including dedicated WhatsApp numbers, support levels, and advanced AI capabilities.",
    "Provide rich reporting and metrics for sales, marketing, and operational insights with export capabilities."
  ],
  "key_features": [
    "Authentication and user profile management with session and permission controls.",
    "Multi-tier subscription system with Free, Basic, Business, and Premium plans defining access and capabilities.",
    "AI-powered agents specialized in Finance, Web Search, Scrape/Extract (with permitted sources), SDR, Marketing, Scheduling with Google Workspace, Dev support, and Video content creation.",
    "Automated workflows and messaging in WhatsApp with natural language input handling for daily tasks.",
    "Financial operations management with categorization, export (CSV/PDF), and filters by time and category.",
    "Agenda and Task management with multiple calendar views and drag-and-drop task handling.",
    "Notification system with history and alert management.",
    "Robust security including CSRF protection, data sanitization, and HTTP headers best practices.",
    "Theming and UI built on ShadcnUI and TailwindCSS with responsive layouts and accessibility.",
    "Backup system with offsite daily backups and data governance application, especially in Premium plan.",
    "Support ticketing, FAQ, and integrated chat for user assistance in premium tiers.",
    "Performance optimizations, caching, and detailed logging for reliability and responsiveness."
  ],
  "user_flow_summary": [
    "User signs up or logs in via the Supabase authentication system.",
    "User selects a subscription plan and configures permissions accordingly.",
    "User interacts with AI sub-agents through WhatsApp messaging to perform tasks such as financial entries, scheduling meetings, lead qualification, or video generation.",
    "Financial agent records incomes and expenses, allowing export and report generation for paid users.",
    "Scheduling agent manages calendar events on Google Calendar and app, with reminder notifications sent via WhatsApp.",
    "Marketing and SDR agents analyze campaigns and qualify leads, with meetings automatically created in Google Calendar.",
    "Premium users gain access to advanced AI agents like Confirmation, Group Summary, Remarketing, and Follow-up agents with daily automated checks and reminders.",
    "Administrators manage user profiles, permissions, and backups through the web app dashboard.",
    "Users access reports and metrics dashboards for sales, marketing, and operational performance, exportable in CSV and PDF formats.",
    "Support requests are submitted via integrated ticket system and attended based on subscription level."
  ],
  "validation_criteria": [
    "AI agents correctly interpret WhatsApp messages and trigger appropriate actions/errors are gracefully handled.",
    "Financial records can be created, categorized, filtered, and exported correctly as CSV/PDF where applicable.",
    "Calendar integrations with Google Calendar reflect events accurately and reminders are properly sent.",
    "Subscription plans enforce permission restrictions and feature availability correctly.",
    "Security measures such as CSRF tokens, sanitization, and HTTP headers pass automated testing.",
    "Backups follow 3-2-1 policy with successful restoration tests in Premium plans.",
    "User authentication and session management function securely without unauthorized access.",
    "Support system tickets and FAQs respond timely for Business/Premium plans.",
    "UI responsiveness and accessibility tested across supported devices and browsers.",
    "Performance benchmarks for caching and query optimization meet set targets."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "ShadcnUI",
      "TailwindCSS",
      "React Router",
      "TanStack Query",
      "React Hook Form",
      "Zod",
      "Recharts",
      "Framer Motion",
      "Playwright",
      "Vitest"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Sistema completo de autenticação com Supabase Auth, login/signup, proteção de rotas e gerenciamento de sessão",
        "files": [
          "src/contexts/AuthContext.tsx",
          "src/components/ProtectedRoute.tsx",
          "src/pages/auth/Login.tsx",
          "src/pages/auth/Signup.tsx",
          "src/integrations/supabase/client.ts"
        ]
      },
      {
        "name": "Financial Management",
        "description": "Sistema completo de gestão financeira com registros de entrada/saída, categorização, relatórios e exportação",
        "files": [
          "src/hooks/useFinancialData.ts",
          "src/hooks/useOptimizedFinancialData.ts",
          "src/components/FinanceRecordForm.tsx",
          "src/pages/Dashboard.tsx",
          "src/pages/Reports.tsx",
          "src/components/PeriodFilter.tsx",
          "src/constants/categories.ts"
        ]
      },
      {
        "name": "Agenda Management",
        "description": "Sistema de agenda com múltiplas visualizações (dia, semana, mês, timeline, ano), eventos e lembretes",
        "files": [
          "src/pages/Agenda.tsx",
          "src/hooks/useAgendaData.ts",
          "src/components/AgendaFilters.tsx",
          "src/components/AgendaGridDay.tsx",
          "src/components/AgendaGridWeek.tsx",
          "src/components/AgendaGridMonth.tsx",
          "src/components/AgendaTimeline.tsx",
          "src/components/AgendaYearHeatmap.tsx",
          "src/components/EventForm.tsx",
          "src/components/EventCard.tsx"
        ]
      },
      {
        "name": "Task Management",
        "description": "Sistema de gerenciamento de tarefas com drag-and-drop, filtros, status e categorização",
        "files": [
          "src/pages/Tasks.tsx",
          "src/hooks/useTasksData.ts",
          "src/components/TaskForm.tsx",
          "src/components/TaskItem.tsx",
          "src/components/TaskFilters.tsx",
          "src/components/TaskStats.tsx",
          "src/components/DeleteTaskDialog.tsx"
        ]
      },
      {
        "name": "Goals Management",
        "description": "Sistema de metas financeiras com acompanhamento de progresso, categorização e notificações",
        "files": [
          "src/pages/Goals.tsx",
          "src/hooks/useGoalsData.ts",
          "src/components/GoalForm.tsx",
          "src/components/GoalListItem.tsx",
          "src/components/GoalIcons.tsx",
          "src/components/DashboardGoalCard.tsx"
        ]
      },
      {
        "name": "Account Management",
        "description": "Gerenciamento de contas bancárias e cartões com integração financeira",
        "files": [
          "src/pages/Contas.tsx",
          "src/components/ContaItem.tsx"
        ]
      },
      {
        "name": "Notifications System",
        "description": "Sistema de notificações com dropdown, histórico e gerenciamento de alertas",
        "files": [
          "src/pages/Notifications.tsx",
          "src/hooks/useNotificationsData.ts",
          "src/components/NotificationBell.tsx",
          "src/components/NotificationItem.tsx",
          "src/components/NotificationsDropdown.tsx",
          "src/contexts/NotificationContext.tsx"
        ]
      },
      {
        "name": "User Profile Management",
        "description": "Gerenciamento de perfil do usuário com upload de avatar, configurações e informações pessoais",
        "files": [
          "src/pages/Profile.tsx",
          "src/components/AvatarUpload.tsx"
        ]
      },
      {
        "name": "Permission System",
        "description": "Sistema de permissões baseado em planos (Free, Basic, Business, Premium) com controle de acesso",
        "files": [
          "src/hooks/usePermissions.ts",
          "src/components/ProtectedFeature.tsx",
          "src/components/PlanInfoCard.tsx",
          "src/components/PlansSection.tsx"
        ]
      },
      {
        "name": "Support System",
        "description": "Sistema de suporte com tickets, FAQ e chat integrado",
        "files": [
          "src/hooks/useSupportTickets.ts",
          "src/components/SupportDialog.tsx",
          "src/components/SupportFAQ.tsx",
          "src/components/SupportTabs.tsx",
          "src/components/SupportTicketForm.tsx",
          "src/components/SupportTicketList.tsx"
        ]
      },
      {
        "name": "Data Visualization",
        "description": "Gráficos e visualizações de dados financeiros com Recharts",
        "files": [
          "src/components/DespesasPorCategoriaChart.tsx",
          "src/components/StatusTimelineChart.tsx",
          "src/components/InsightsCard.tsx"
        ]
      },
      {
        "name": "Performance Optimization",
        "description": "Hooks e utilitários para otimização de performance com cache, paginação e monitoramento",
        "files": [
          "src/hooks/useOptimizedQueries.ts",
          "src/lib/performance-monitor.ts",
          "src/components/OptimizedLoadingComponents.tsx",
          "src/components/examples/OptimizedComponents.tsx"
        ]
      },
      {
        "name": "Security Features",
        "description": "Recursos de segurança incluindo CSRF, sanitização, headers HTTP e testes de segurança",
        "files": [
          "src/lib/csrf.ts",
          "src/lib/sanitize.ts",
          "src/lib/safe-json.ts",
          "src/components/SecurityTestComponent.tsx"
        ]
      },
      {
        "name": "UI Components Library",
        "description": "Biblioteca completa de componentes UI baseada em ShadcnUI com TailwindCSS",
        "files": [
          "src/components/ui/button.tsx",
          "src/components/ui/card.tsx",
          "src/components/ui/dialog.tsx",
          "src/components/ui/form.tsx",
          "src/components/ui/input.tsx",
          "src/components/ui/select.tsx",
          "src/components/ui/table.tsx",
          "src/components/ui/tabs.tsx",
          "src/components/ui/toast.tsx",
          "src/components/ui/skeleton.tsx",
          "src/components/ui/calendar.tsx",
          "src/components/ui/popover.tsx",
          "src/components/ui/dropdown-menu.tsx",
          "src/components/ui/context-menu.tsx",
          "src/components/ui/alert-dialog.tsx",
          "src/components/ui/checkbox.tsx",
          "src/components/ui/switch.tsx",
          "src/components/ui/progress.tsx",
          "src/components/ui/badge.tsx",
          "src/components/ui/avatar.tsx",
          "src/components/ui/tooltip.tsx",
          "src/components/ui/sheet.tsx",
          "src/components/ui/drawer.tsx",
          "src/components/ui/accordion.tsx",
          "src/components/ui/collapsible.tsx",
          "src/components/ui/separator.tsx",
          "src/components/ui/scroll-area.tsx",
          "src/components/ui/slider.tsx",
          "src/components/ui/radio-group.tsx",
          "src/components/ui/toggle.tsx",
          "src/components/ui/toggle-group.tsx",
          "src/components/ui/textarea.tsx",
          "src/components/ui/label.tsx",
          "src/components/ui/command.tsx",
          "src/components/ui/hover-card.tsx",
          "src/components/ui/menubar.tsx",
          "src/components/ui/navigation-menu.tsx",
          "src/components/ui/pagination.tsx",
          "src/components/ui/pricing-card.tsx",
          "src/components/ui/sidebar.tsx",
          "src/components/ui/spinner.tsx",
          "src/components/ui/sonner.tsx",
          "src/components/ui/toaster.tsx",
          "src/components/ui/use-toast.ts",
          "src/components/ui/currency-input.tsx",
          "src/components/ui/segmented-control.tsx",
          "src/components/ui/button-group.tsx",
          "src/components/ui/animated-tabs.tsx",
          "src/components/ui/agenda-skeleton.tsx",
          "src/components/ui/action-menu.tsx",
          "src/components/ui/aspect-ratio.tsx",
          "src/components/ui/breadcrumb.tsx",
          "src/components/ui/carousel.tsx",
          "src/components/ui/chart.tsx",
          "src/components/ui/input-otp.tsx",
          "src/components/ui/resizable.tsx"
        ]
      },
      {
        "name": "Layout Components",
        "description": "Componentes de layout responsivo com sidebar, header, footer e navegação",
        "files": [
          "src/components/layout/AppLayout.tsx",
          "src/components/layout/AppSidebar.tsx",
          "src/components/layout/AppHeader.tsx",
          "src/components/layout/AppFooter.tsx",
          "src/components/layout/AuthLayout.tsx",
          "src/components/layout/Header.tsx",
          "src/components/layout/PageHeader.tsx"
        ]
      },
      {
        "name": "Theme Management",
        "description": "Sistema de temas com suporte a modo claro/escuro e persistência",
        "files": [
          "src/contexts/ThemeContext.tsx",
          "src/components/ds/ThemeSwitch.tsx"
        ]
      },
      {
        "name": "Search Functionality",
        "description": "Sistema de busca global com contexto compartilhado",
        "files": [
          "src/contexts/SearchContext.tsx"
        ]
      },
      {
        "name": "Utility Functions",
        "description": "Funções utilitárias para formatação, validação e manipulação de dados",
        "files": [
          "src/lib/utils.ts"
        ]
      },
      {
        "name": "Backup and Privacy",
        "description": "Funcionalidades de backup de dados e conformidade com LGPD",
        "files": [
          "src/components/BackupSection.tsx",
          "src/components/PrivacySection.tsx"
        ]
      },
      {
        "name": "Quick Actions",
        "description": "Ações rápidas e componentes de ajuda para melhorar UX",
        "files": [
          "src/components/QuickActions.tsx",
          "src/components/HelpAndSupport.tsx",
          "src/components/Logo.tsx"
        ]
      },
      {
        "name": "Dashboard Widgets",
        "description": "Widgets específicos do dashboard para métricas e informações rápidas",
        "files": [
          "src/components/DashboardUpcomingBills.tsx",
          "src/components/UpcomingBillCard.tsx",
          "src/components/UpcomingTasksCard.tsx",
          "src/components/AlertsSection.tsx",
          "src/components/WorldClock.tsx"
        ]
      },
      {
        "name": "Form Components",
        "description": "Componentes de formulário especializados para diferentes funcionalidades",
        "files": [
          "src/components/CalendarForm.tsx",
          "src/components/EmptyDayCard.tsx",
          "src/components/EventPopover.tsx",
          "src/components/EventQuickCreatePopover.tsx"
        ]
      },
      {
        "name": "Dialog Components",
        "description": "Modais e diálogos para confirmações e edição de dados",
        "files": [
          "src/components/DeleteRecordDialog.tsx",
          "src/components/EditRecordDialog.tsx",
          "src/components/BulkDeleteDialog.tsx"
        ]
      }
    ]
  }
}
