{
  "meta": {
    "project": "Meu Agente",
    "date": "2025-11-12",
    "prepared_by": "Generated by AI based on provided PRD and code summary"
  },
  "product_overview": "Meu Agente is a micro SaaS providing a team of AI Agents that operate directly through a WhatsApp number to perform customer service, operations, and automation tasks, aiming to reduce operational time, increase conversion rates, and standardize processes while ensuring data security and privacy.",
  "core_goals": [
    "Enable 24/7 customer support via WhatsApp within WhatsApp Business rules.",
    "Provide a seamless integration of AI agents for financial operations, marketing, scheduling, and other business tasks.",
    "Offer multiple subscription plans with tailored functionalities for different user needs, from free to premium enterprises.",
    "Ensure data security, privacy, and compliance with LGPD and other relevant regulations.",
    "Support advanced automation and integration capabilities in higher-tier plans.",
    "Deliver user-friendly interfaces and natural language interaction through WhatsApp messaging.",
    "Support export and reporting features for operational and financial insights."
  ],
  "key_features": [
    "Authentication with login, signup, and password recovery using Supabase Auth.",
    "Financial management agent supporting record entries, exits, categorization, and export (CSV/PDF) in paid plans.",
    "Advanced AI agents for Web Search, Scraping authorized sources, Marketing campaign analysis, SDR lead qualification, Scheduling with Google Workspace integration, Developer support, and Video generation.",
    "Multiple subscription plans (Free, Basic, Business, Premium) with differentiated access to AI agents, automation, and support levels.",
    "Backup system with daily off-site backups available on Premium plan.",
    "Notification and support system with tiered access depending on plan.",
    "Integration with WhatsApp Business API and Google Workspace (Calendar, Drive, Tasks, Gmail).",
    "User profile management with avatar upload and customization.",
    "Comprehensive dashboard with financial insights, reports, and goal tracking.",
    "Progressive Web App (PWA) support for enhanced user experience."
  ],
  "user_flow_summary": [
    "Users authenticate via Supabase to access the app and their assigned features according to their subscription plan.",
    "Free and Basic users perform manual operational entries within the cloud app, without WhatsApp automation.",
    "Business and Premium users interact with AI agents directly through WhatsApp for automation of financial records, lead qualification, marketing analysis, scheduling, developer support, and video generation.",
    "AI agents process user natural language commands on WhatsApp, for example, recording financial transactions, scraping data, performing web searches, or scheduling meetings.",
    "Users receive confirmations, alerts, and reports in-app and through WhatsApp messages where applicable.",
    "Premium users benefit from additional advanced AI agents such as confirmation agents, group summaries, remarketing and follow-up agents, plus backup and advanced governance features.",
    "Reports and data exports are available primarily for paid tiers, enhancing operational and marketing analysis."
  ],
  "validation_criteria": [
    "Successful authentication and secure user session management via Supabase.",
    "Correct recording and categorization of financial entries and exits with duplicate validation.",
    "Accurate execution and compliance of web scraping and search functionalities respecting permitted sources and APIs.",
    "Seamless integration with Google Workspace services for scheduling and document management in Business and Premium plans.",
    "Effective AI agent workflows for lead qualification (SDR), marketing optimization, developer support, and video generation.",
    "Accurate and timely notifications and messaging through WhatsApp Business API.",
    "Correct tier-based feature access enforcement respecting plan limitations.",
    "Robust data backup and restore operations for Premium plan users.",
    "Validated export functionalities for financial data and reports in CSV, PDF, JSON formats.",
    "Compliance with LGPD rules for data privacy, consent, and opt-out management.",
    "Reliable 24/7 prioritized support access for Business and Premium users."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "PostgreSQL",
      "Tailwind CSS",
      "ShadcnUI",
      "React Router",
      "TanStack Query",
      "Zod",
      "Playwright"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "Sistema de autenticação com login, signup e recuperação de senha usando Supabase Auth",
        "files": [
          "src/contexts/AuthContext.tsx",
          "src/pages/auth/Login.tsx",
          "src/pages/auth/Signup.tsx",
          "src/components/ProtectedRoute.tsx"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Dashboard financeiro com visão geral, gráficos, resumo de receitas/despesas e metas",
        "files": [
          "src/pages/Dashboard.tsx",
          "src/components/DashboardGoalCard.tsx",
          "src/components/DashboardUpcomingBills.tsx",
          "src/components/InsightsCard.tsx"
        ]
      },
      {
        "name": "Financial Management",
        "description": "Gestão completa de receitas e despesas com categorização, validação de duplicatas e controle de valores",
        "files": [
          "src/pages/Contas.tsx",
          "src/components/FinanceRecordForm.tsx",
          "src/components/ContaItem.tsx",
          "src/components/EditRecordDialog.tsx",
          "src/components/DeleteRecordDialog.tsx",
          "src/components/DuplicateWarning.tsx"
        ]
      },
      {
        "name": "Goals System",
        "description": "Sistema de metas financeiras com criação, acompanhamento de progresso e alertas",
        "files": [
          "src/pages/Goals.tsx",
          "src/components/GoalForm.tsx",
          "src/components/GoalListItem.tsx",
          "src/components/GoalIcons.tsx"
        ]
      },
      {
        "name": "Calendar and Events",
        "description": "Agenda completa com calendário interativo, criação/edição de eventos, drag-and-drop e múltiplas visualizações",
        "files": [
          "src/pages/Agenda.tsx",
          "src/components/AgendaFilters.tsx",
          "src/components/AgendaGridDay.tsx",
          "src/components/AgendaGridMonth.tsx",
          "src/components/AgendaGridWeek.tsx",
          "src/components/AgendaList.tsx",
          "src/components/AgendaTimeline.tsx",
          "src/components/AgendaYearHeatmap.tsx",
          "src/components/EventCard.tsx",
          "src/components/EventForm.tsx",
          "src/components/EventPopover.tsx",
          "src/components/EventQuickCreatePopover.tsx",
          "src/components/CalendarForm.tsx",
          "src/components/EmptyDayCard.tsx"
        ]
      },
      {
        "name": "Tasks Management",
        "description": "Gestão de tarefas com criação, edição, priorização, status de conclusão e drag-and-drop",
        "files": [
          "src/pages/Tasks.tsx",
          "src/components/TaskForm.tsx",
          "src/components/TaskItem.tsx",
          "src/components/TaskFilters.tsx",
          "src/components/TaskStats.tsx",
          "src/components/DeleteTaskDialog.tsx",
          "src/components/UpcomingTasksCard.tsx"
        ]
      },
      {
        "name": "Reports",
        "description": "Sistema de relatórios com gráficos por categoria, comparação temporal e exportação (PDF, JSON, CSV)",
        "files": [
          "src/pages/Reports.tsx",
          "src/pages/Relatorios.tsx",
          "src/components/DespesasPorCategoriaChart.tsx",
          "src/components/StatusTimelineChart.tsx",
          "src/components/PeriodFilter.tsx"
        ]
      },
      {
        "name": "Notifications",
        "description": "Sistema de notificações com alertas, marcação de lida/não lida, contador dinâmico e menu de contexto",
        "files": [
          "src/pages/Notifications.tsx",
          "src/components/NotificationBell.tsx",
          "src/components/NotificationItem.tsx",
          "src/components/NotificationsDropdown.tsx",
          "src/components/SkeletonNotification.tsx",
          "src/contexts/NotificationContext.tsx"
        ]
      },
      {
        "name": "Support System",
        "description": "Sistema de suporte com criação de tickets, acompanhamento de status, políticas RLS e FAQ",
        "files": [
          "src/components/SupportDialog.tsx",
          "src/components/SupportTabs.tsx",
          "src/components/SupportTicketForm.tsx",
          "src/components/SupportTicketList.tsx",
          "src/components/SupportFAQ.tsx",
          "src/components/HelpAndSupport.tsx"
        ]
      },
      {
        "name": "User Profile",
        "description": "Perfil do usuário com edição de dados, upload de avatar e configurações",
        "files": [
          "src/pages/Profile.tsx",
          "src/components/AvatarUpload.tsx",
          "src/components/PrivacySection.tsx",
          "src/components/BackupSection.tsx"
        ]
      },
      {
        "name": "Plans and Subscriptions",
        "description": "Sistema de planos e assinaturas com informações de planos e seção de planos",
        "files": [
          "src/components/PlanInfoCard.tsx",
          "src/components/PlansSection.tsx",
          "src/components/ProtectedFeature.tsx",
          "src/hooks/usePlanInfo.ts",
          "src/hooks/usePermissions.ts"
        ]
      },
      {
        "name": "Layout Components",
        "description": "Componentes de layout incluindo header, sidebar, footer e layouts de autenticação",
        "files": [
          "src/components/layout/AppLayout.tsx",
          "src/components/layout/AppHeader.tsx",
          "src/components/layout/AppSidebar.tsx",
          "src/components/layout/AppFooter.tsx",
          "src/components/layout/AuthLayout.tsx",
          "src/components/layout/Header.tsx",
          "src/components/layout/PageHeader.tsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Biblioteca completa de componentes UI baseada em ShadcnUI v4",
        "files": [
          "src/components/ui/button.tsx",
          "src/components/ui/input.tsx",
          "src/components/ui/dialog.tsx",
          "src/components/ui/form.tsx",
          "src/components/ui/select.tsx",
          "src/components/ui/calendar.tsx",
          "src/components/ui/card.tsx",
          "src/components/ui/table.tsx",
          "src/components/ui/toast.tsx",
          "src/components/ui/tabs.tsx"
        ]
      },
      {
        "name": "Hooks",
        "description": "Hooks customizados para gerenciamento de estado, dados e lógica de negócio",
        "files": [
          "src/hooks/useAgendaData.ts",
          "src/hooks/useFinancialRecords.ts",
          "src/hooks/useGoals.ts",
          "src/hooks/useTasks.ts",
          "src/hooks/useNotifications.ts",
          "src/hooks/usePlanInfo.ts",
          "src/hooks/usePermissions.ts"
        ]
      },
      {
        "name": "Contexts",
        "description": "Contextos React para gerenciamento global de estado (auth, notifications, theme, search)",
        "files": [
          "src/contexts/AuthContext.tsx",
          "src/contexts/NotificationContext.tsx",
          "src/contexts/ThemeContext.tsx",
          "src/contexts/SearchContext.tsx"
        ]
      },
      {
        "name": "Supabase Integration",
        "description": "Integração com Supabase incluindo cliente, tipos TypeScript e funções auxiliares",
        "files": [
          "src/integrations/supabase/client.ts",
          "src/integrations/supabase/types.ts"
        ]
      },
      {
        "name": "Utilities",
        "description": "Funções utilitárias para sanitização, tratamento de erros, CSRF e performance",
        "files": [
          "src/lib/utils.ts",
          "src/lib/sanitize.ts",
          "src/lib/safe-json.ts",
          "src/lib/csrf.ts",
          "src/lib/performance-monitor.ts",
          "src/utils/errorHandling.ts"
        ]
      },
      {
        "name": "PWA Support",
        "description": "Suporte a Progressive Web App com registro de service worker e configuração PWA",
        "files": [
          "src/components/PWARegister.tsx"
        ]
      }
    ]
  }
}
